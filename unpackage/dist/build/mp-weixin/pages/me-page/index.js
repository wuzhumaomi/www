(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me-page/index"],{"04e3":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uniGrid:function(){return t.e("components/uni-grid/uni-grid").then(t.bind(null,"21e6"))},uniGridItem:function(){return t.e("components/uni-grid-item/uni-grid-item").then(t.bind(null,"9ac3"))},uniList:function(){return t.e("components/uni-list/uni-list").then(t.bind(null,"576d"))},uniListItem:function(){return t.e("components/uni-list-item/uni-list-item").then(t.bind(null,"90df"))}},a=function(){var e=this,n=e.$createElement;e._self._c},o=[]},1647:function(e,n,t){"use strict";t.r(n);var i=t("d72f"),a=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},"1ab3":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uButton:function(){return t.e("node-modules/uview-ui/components/u-button/u-button").then(t.bind(null,"cd91"))}},a=function(){var e=this,n=e.$createElement;e._self._c},o=[]},"26e8":function(e,n,t){"use strict";t.r(n);var i=t("1ab3"),a=t("30bd");for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("f880");var c,r=t("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"5b5e0f7e",null,!1,i["a"],c);n["default"]=u.exports},"2b4c":function(e,n,t){"use strict";(function(e){function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(n){a(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={data:function(){return{canvasText:"",canvasShow:!1,ifShouQuan:!1,url01:"cloud://ilovejiujiu.696c-ilovejiujiu-1301925360/img/wu_shanlin.jpg",url02:"cloud://ilovejiujiu.696c-ilovejiujiu-1301925360/img/erWeiMa.png",src2:"",nickName:""}},mounted:function(){var n=this;wx.getUserInfo({success:function(e){n.nickName=e.userInfo.nickName}});e.request({url:"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=wxcbaa212bcb33c859&secret=d61ff9c352b709101e99736955e994d6",method:"get",data:{},header:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},success:function(t){console.log(t.data),n.src2="https://api.weixin.qq.com/cgi-bin/wxaapp/createwxaqrcode?access_token="+t.data.access_token,e.request({url:"https://api.weixin.qq.com/cgi-bin/wxaapp/createwxaqrcode?access_token="+t.data.access_token,method:"post",data:{path:"/pages/logo-page/logo-page"},header:{"Content-Type":"application/json;/x-www-form-urlencoded;charset=utf-8"},success:function(e){wx.arrayBufferToBase64(e.data)}})}})},methods:{toMain:function(){this.canvasShow=!1},promisify:function(e){return function(n){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return new Promise((function(t,o){var c={success:t,fail:o};e.apply(void 0,[i(i({},n),c)].concat(a))}))}},shareClick:function(){var n=this,t=this.promisify(e.getImageInfo);Promise.all([t({src:n.url01}),t({src:n.url02})]).then((function(e){var t=wx.createCanvasContext("shareCanvas");t.drawImage(e[0].path,0,0,600,700),t.setTextAlign("right"),t.setFillStyle("#000000"),t.setFontSize(24),t.fillText("生活不止眼前的苟且,",290,50),t.fillText("还有诗和远方.",290,100),t.fillText("--- "+n.nickName,290,150);var i=150;t.drawImage(e[1].path,30,280,i,i),t.stroke(),console.log("res",e),t.draw(!1,(function(){n.tempFileImage()})),n.canvasShow=!0}))},tempFileImage:function(){var n=this;e.canvasToTempFilePath({canvasId:"shareCanvas",success:function(t){e.hideLoading(),n.savePic(t.tempFilePath)},fail:function(){}})},shouQuan:function(){var e=this;wx.openSetting({success:function(n){n.authSetting["scope.writePhotosAlbum"]?(console.log("获取权限成功，给出再次点击图片保存到相册的提示。"),e.tempFileImage(),e.ifShouQuan=!1):console.log("获取权限失败，给出不给权限就无法正常使用的提示")},fail:function(e){console.log(e.errMsg)}})},savePic:function(n){var t=this;console.log("filePath",n),e.showLoading({title:"正在保存"}),t.canvasText="正在保存....",e.saveImageToPhotosAlbum({filePath:n,success:function(){t.canvasText="图片已保存到相册，可分享给好友",e.showToast({title:"图片保存成功～"})},fail:function(e){"saveImageToPhotosAlbum:fail cancel"==e.errMsg&&(t.canvasText="取消保存"),"saveImageToPhotosAlbum:fail auth deny"==e.errMsg&&(t.canvasText="需要保存到相册的权限，请点击下面按钮进行授权",t.ifShouQuan=!0),console.log("失败情况：",e.errMsg)},complete:function(){e.hideLoading()}})}}};n.default=o}).call(this,t("543d")["default"])},"30bd":function(e,n,t){"use strict";t.r(n);var i=t("2b4c"),a=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},"7dbd":function(e,n,t){},"7ec6":function(e,n,t){"use strict";(function(e){t("74fb");i(t("66fd"));var n=i(t("ce5e"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},ba53:function(e,n,t){},be8d:function(e,n,t){"use strict";var i=t("ba53"),a=t.n(i);a.a},ce5e:function(e,n,t){"use strict";t.r(n);var i=t("04e3"),a=t("1647");for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("be8d");var c,r=t("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);n["default"]=u.exports},d72f:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;i(t("26e8"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){t.e("pages/components/advertising/index").then(function(){return resolve(t("adef"))}.bind(null,t)).catch(t.oe)},o={components:{Advertsing:a},data:function(){return{number01:6,number02:8,globalData:{},buttonArr:[{src:"/static/images/extend/icon_edit_3x.png",width:"48rpx",height:"48rpx",background:"#fff"},{src:"/static/images/extend/icon_delete_3x.png",width:"48rpx",height:"48rpx",background:"#fff"}]}},methods:{onClick:function(e){wx.navigateTo({url:"/pages/canvas_page/canvas_page"})}}};n.default=o},f880:function(e,n,t){"use strict";var i=t("7dbd"),a=t.n(i);a.a}},[["7ec6","common/runtime","common/vendor"]]]);